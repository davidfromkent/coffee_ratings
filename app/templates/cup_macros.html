{% macro render_cups(avg) %}
    {# Calculate full / half / empty #}
    {% set full = avg|round(0, 'floor') %}
    {% set half = 1 if avg - full >= 0.5 else 0 %}
    {% set empty = 5 - full - half %}

    {# FULL cups ☕ #}
    {% for i in range(full|int) %}
        <span class="text-xl mr-0.5">☕</span>
    {% endfor %}

    {# HALF cup (left half of ☕) #}
    {% if half == 1 %}
        <span class="inline-block overflow-hidden text-xl mr-0.5"
              style="width: 0.55em;">☕</span>
    {% endif %}

    {# EMPTY cups ⚪ #}
    {% for i in range(empty|int) %}
        <span class="text-xl mr-0.5">⚪</span>
    {% endfor %}
{% endmacro %}
